[manifest]
version = "1.0.0"
dump_lua = true
priority = 0

[[patches]]
[patches.copy]
target = "main.lua"
position = "append"
sources = ["index.lua"]

# Handle card click
[[patches]]
[patches.pattern]
target = "card.lua"
pattern = '''function Card:click()'''
position = "after"
payload = '''
if HeyListen.listen(self) then return end
'''
match_indent = true
overwrite = false

# Handle shop render
[[patches]]
[patches.pattern]
target = "functions/UI_definitions.lua"
pattern = '''function G.UIDEF.shop()'''
position = "after"
payload = '''
HeyListen.should_i_listen = true
'''
match_indent = true
overwrite = false
